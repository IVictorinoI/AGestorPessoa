 

CREATE DATABASE AGestorPessoa;

CREATE TABLE "AppUser" (
	"Id" SERIAL PRIMARY KEY,
	"Name" VARCHAR ( 100 ) NOT NULL,	
	"Email" VARCHAR ( 255 ) NOT NULL,
	"Password" VARCHAR ( 50 ) NOT NULL
);



CREATE TABLE "Customer" (
	"Id" SERIAL PRIMARY KEY,
    "Name" VARCHAR ( 100 ) NOT NULL,
    "Cpf" VARCHAR ( 11 ) NOT NULL,
    "BirthDate" DATE NOT NULL,
    "Address" VARCHAR ( 255 ),
    "Occupation" VARCHAR ( 100 ),
    "Salary" DECIMAL(18,10) DEFAULT 0 NOT NULL,
    "Active" BOOL NOT NULL
);

CREATE TABLE "Debt" (
	"Id" SERIAL PRIMARY KEY,
	"CustomerId" INT NOT NULL,
	"Title" VARCHAR ( 255 ) NOT NULL,
	"DueDate" TIMESTAMP NOT NULL,
	"Value" DECIMAL(18,10) DEFAULT 0 NOT NULL,
	"PayValue" DECIMAL(18,10) DEFAULT 0 NOT NULL,
	"RemainingValue" DECIMAL(18,10) DEFAULT 0 NOT NULL,
	"PaidLate" BOOLEAN DEFAULT FALSE NOT NULL,
	"Status" INT DEFAULT 0 NOT NULL,
	FOREIGN KEY ("CustomerId") REFERENCES "Customer" ("Id")
);

CREATE TABLE "DebtPayment" (
	"Id" SERIAL PRIMARY KEY,
    "DebtId" INT NOT NULL,
    "Date" TIMESTAMP DEFAULT current_timestamp NOT NULL,
    "Value" DECIMAL(18,10) DEFAULT 0 NOT NULL,
    "Status" INT DEFAULT 0 NOT NULL,
	FOREIGN KEY ("DebtId") REFERENCES "DebtPayment" ("Id")
)
